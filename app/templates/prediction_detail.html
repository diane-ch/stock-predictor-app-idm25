<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AI Prediction – Detail</title>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600&display=swap" rel="stylesheet">
  <!-- 只包含本页所需的精简样式 -->
  <link rel="stylesheet" href= "{{ url_for('static', filename='css/prediction_detail.css')}}" />
  <!-- 本页交互脚本（读取URL参数、切换区间、绘图） -->
  <script defer src="{{ url_for('static', filename='js/prediction_detail.js') }}"></script>
</head>
<body>
  <div class="main-wrapper">

      <div class="top-header">
      <h2>AI Predictions</h2>
      <div class="menu-wrapper">
        <div class="menu-icon" onclick="toggleMenu()">⋮</div>
          <div class="logout-menu" id="logoutMenu">
              <a href="{{ url_for('auth.logout') }}" class="logout-button">
              <span class="logout-text">Log Out</span>
              <img src="{{ url_for('static', filename='images/logout.png') }}" class="logout-icon" alt="logout arrow" />
              </a>

            <div class="menu-divider"></div>
            <!-- Tutorial -->
            <button class="menu-item" id="tutorialBtn">
              <span class="menu-text">Tutorial</span>
              <img src="../../static/images/Tutoriallogo.png" class="menu-icon-right" alt="Tutorial Icon" />
            </button>


          <div class="menu-divider"></div>
            <!-- Terms -->
            <button class="menu-item" id="termsBtn">
              <span class="menu-text">Terms & Privacy</span>
              <img src="../../static/images/termslogo.png" class="menu-icon-right" alt="Terms Icon" />
            </button>
          </div>
        </div>
    </div>


    <div class="search-bar">
      <input type="text" placeholder="Search" />
    </div>

    <!-- 可滚动区域 -->
    <div class="scrollable-content">
      <!-- 时间范围切换 -->
      <div class="range-tabs">
        <button class="range-btn active" data-range="1W">1W</button>
        <button class="range-btn" data-range="1M">1M</button>
        <button class="range-btn" data-range="1Y">1Y</button>
      </div>

      <!-- 预测卡片 -->
      <div class="prediction-card">
        <div class="card-header">
          <!-- 可被JS替换的公司Logo -->
          <img class="logo" id="companyLogo" src="../../static/images/apple_logo.png" alt="Company Logo" />
          <div class="title-wrap">
            <!-- 可被JS替换的公司名与Ticker -->
            <div class="company" id="companyName">Apple Inc.</div>
            <div class="ticker" id="tickerSymbol">AAPL</div>
          </div>
          <div class="date-chip" id="dateChip">Jul 31, 2025</div>
        </div>

        <!-- 指标区（数值/涨跌幅均可被JS替换） -->
        <div class="metrics">
          <div class="metric-row">
            <span>Difference <strong id="diffVal">$2.0</strong></span>
            <span class="pill neutral" id="diffChange">1.1%</span>
          </div>
          <div class="metric-row">
              <span>
                <img src="../../static/images/prediction-icon.png" alt="Prediction" class="metric-icon" />
                Prediction <strong id="predVal">$213</strong>
              </span>

            <span class="pill up" id="predChange">+1.8%</span>
          </div>
          <div class="metric-row">
            <span>Real Price <strong id="realVal">$211</strong></span>
            <span class="pill down" id="realPriceChange">-2.9%</span>
          </div>
        </div>

        <!-- 简易折线图（SVG） -->
        <div class="chart-wrap">
          <svg id="lineChart" viewBox="0 0 300 120" preserveAspectRatio="none"></svg>
          <!-- 在图表上方覆盖一条可移动的竖向虚线 -->
          <div class="v-guide" id="vGuide"></div>

          <!-- 滑轨 + 拖拽圆钮 -->
          <div class="chart-slider" id="chartSlider">
            <div class="track" id="chartTrack"></div>
            <div class="knob" id="chartKnob" role="slider" aria-valuemin="0" aria-valuemax="100" aria-valuenow="50" tabindex="0"></div>
          </div>

          <!-- 两端日期标签 -->
          <div class="chart-labels">
            <span id="startLabel">Jul 22</span>
            <span id="endLabel">Jul 31</span>
          </div>

        </div>
      </div>
    </div>

    <!-- 底部导航栏 -->
    <div class="bottom-nav">
      <a href="{{ url_for('main.ai_predictions') }}" class="nav-item active">
        <img src="../../static/images/predictions-active.png" alt="predict" />
        <div>AI Predictions</div>
      </a>
      <a href="{{ url_for('main.discover') }}" class="nav-item">
        <img src="../../static/images/discover-inactive.png" alt="discover" />
        <div>Discover</div>
      </a>
      <a href="{{ url_for('main.learning')}}" class="nav-item">
        <img src="../../static/images/learn-inactive.png" alt="learn" />
        <div>Learn</div>
      </a>
    </div>
  </div>


<!-- Tutorial Modal（大弹窗） -->
<div class="modal-overlay" id="tutorialModal">
  <div class="modal-card">
    <h3 class="modal-title">What you need to know about your Smart Picks</h3>

    <p class="modal-sub">
      In here you will find daily digest of the top five predictions or pick of stocks for the day.
      <br>New picks every 24 hours
    </p>

    <!-- 1) 日期/倒计时示意图（替换为你的图片） -->
    <figure class="tutorial-figure">
      <img src="../../static/images/tutorial-date.png" alt="date example" class="tutorial-img">
    </figure>

    <p class="modal-desc">
      Each pick includes: The name of the stock, the price and percentage of change that is predicted for the end of the day, and a confidence score
    </p>

    <!-- 2) 股票卡片示意图 -->
    <figure class="tutorial-figure">
      <img src="../../static/images/tutorial-card.png" alt="card example" class="tutorial-img">
    </figure>

    <p class="modal-desc">
      Whenever you see this icon you will know that this was an AI prediction and the level of confidence it has
    </p>

    <!-- 3) 置信度示意图 -->
    <figure class="tutorial-figure">
      <img src="../../static/images/tutorial-confidence.png" alt="confidence example" class="tutorial-img">
    </figure>

    <p class="modal-desc">
      You can see more details on the stock picks like the features taken into consideration for each prediction
    </p>

    <button class="modal-close" id="tutorialCloseBtn">Close</button>
  </div>
</div>

</body>
</html>
